<app-header></app-header>
<div class="container">
  <div class="row">
    <div class="col-sm-2"></div>
    <div class="col-sm-8 card border-bg-secondary">
      <div class="card-header text-center">Lista de pedidos</div>
      <div class="card-body border-primary">
        <div class="row card" *ngFor="let pedido of pedidos">
          <H4>PEDIDO: {{ pedido.id }}</H4>
          <div class="col-6">
            <H5>Dirección:</H5>
            <p>
              {{ pedido?.direccionPedido?.via }},
              {{ pedido?.direccionPedido?.numero }},
              {{ pedido?.direccionPedido?.cp }},
              {{ pedido?.direccionPedido?.localidad }},
              {{ pedido?.direccionPedido?.pronvicia }}
            </p>
          </div>
          <div class="col-6">
            <H5>Articulos: </H5>
            <div *ngIf="pedido?.listaProcutosPedido">
              <table class="table table-responsive">
                <thead>
                  <tr>
                    <th class="col-2">Nombre</th>
                    <th class="col-10">Cantidad</th>
                  </tr>
                </thead>
                <tbody *ngFor="let detalle of pedido?.listaProcutosPedido">
                  <tr>
                    <td>{{ detalle.nombre }}</td>
                    <td>{{ detalle.cantidad }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="col-6">
            <H5>Estado:</H5>
            <p>{{ pedido?.estado }}</p>
          </div>
          <div class="col-6">
            <H5>Importe:</H5>
            <p>{{ pedido?.total }}€</p>
          </div>
          <div class="buy mt-3" *ngIf="pedido?.estado == 'Pagado'">
            <button
              (click)="setEstadoPedidoPagado([pedido.id])"
              class="btn btn-secondary btn-block m-3"
              type="button"
            >
              Despachado
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
